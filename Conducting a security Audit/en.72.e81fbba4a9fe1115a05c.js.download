(window.webpackJsonp=window.webpackJsonp||[]).push([[72],{"0/vS":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedbackInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_UpdateWithUserFeedback"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:158}};e.loc.source={body:"mutation AiCoach_UpdateWithUserFeedback($input: AiCoach_UpdateWithUserFeedbackInput!) {\n  AiCoach_UpdateWithUserFeedback(input: $input) {\n    messageId\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)}))}function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var t={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function oneQuery(e,n){var a={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=t[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){var n;r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),t[e.name.value]=n}}))}(),module.exports=e,module.exports.AiCoach_UpdateWithUserFeedback=oneQuery(e,"AiCoach_UpdateWithUserFeedback")},"1Tsj":function(module,e,n){"use strict";n.r(e);var t=n("lSNA"),a=n.n(t),i=n("VbXa"),r=n.n(i),o=n("VkAN"),c=n.n(o),s=n("AeFk"),l=n("q1tI"),d=n.n(l),u=n("MnCE"),m=n("8cuT"),p=n("sQ/U"),g=n("K7Vu"),h="onDemandSupplements.v1",supplementData=function(e){var n=e.itemId,t=e.courseId,a=e.courseSlug,i,r={includes:["asset"],fields:["openCourseAssets.v1(typeName)","openCourseAssets.v1(definition)"]};return new g.a({itemId:n,courseId:t,courseSlug:a}).getWithCourseItemId(h,r).then((function(e){return e.linked["openCourseAssets.v1"][0]}))},f=n("8Hdl"),b=n("SJ7i"),v=n("VDEC"),w=n("7GkZ"),k={NAME:"NAME",USER_ID:"USER_ID",HASHED_USER_ID:"HASHED_USER_ID"},x=k,S=k.NAME,C=k.USER_ID,O=k.HASHED_USER_ID,y=n("hUuC"),j=n("h4VP"),I=n("+rcu"),N=n("vXr1"),E=n("15pW"),A=n("6/Gu"),F=n("ZJgU"),T=n("/szJ"),R=n("/VB6"),M=n("S+eF"),L=n.n(M),D=n("TSOT"),B=Object(D.a)(E.d.supplementCompletionApi,{type:"rest"}),U=Object(D.a)(E.d.supplementStartApi,{type:"rest"});function updateSupplementProgress(e){var n=e.itemId,t=e.courseId,a=e.userId,i=e.api,r={data:{userId:a,courseId:t,itemId:n}};return L()(i.post("",r))}var P={markComplete:function markComplete(e,n,t){return updateSupplementProgress({itemId:e,courseId:n,userId:t,api:B})},markStarted:function markStarted(e,n,t){return updateSupplementProgress({itemId:e,courseId:n,userId:t,api:U})}},z=P,H=P.markComplete,V=P.markStarted,G=n("E4RX"),q=n("MC18"),W=n.n(q),Q,K,J,Y,X,Z,ee={readingCompleteContainer:function readingCompleteContainer(e){return Object(s.c)(Q||(Q=c()(["\n    margin-top: ",";\n  "])),e.spacing(32))},completed:function completed(e){return Object(s.c)(K||(K=c()(["\n    "," {\n      flex-direction: column;\n      align-items: flex-start;\n    }\n  "])),e.breakpoints.down("xs"))},completedText:function completedText(e){return Object(s.c)(J||(J=c()(["\n    display: flex;\n    "," {\n      margin-top: ",";\n    }\n  "])),e.breakpoints.down("xs"),e.spacing(32))},text:function text(e){return Object(s.c)(Y||(Y=c()(["\n    margin-right: ",";\n    margin-left: ",";\n  "])),e.spacing(24),e.spacing(4))},nextItem:function nextItem(e){return Object(s.c)(X||(X=c()(["\n  "," {\n    margin-top: ",";\n"])),e.breakpoints.down("xs"),e.spacing(32))}},ne=function ReadingCompleteButton(e){var n=e.isComplete,t=e.nextItem,a=e.itemId,i=e.courseId,r=e.courseProgress,o=e.executeAction,c=Object(N.b)(),l=function markComplete(){var e;r.getItemProgress(a).setState(E.e),o(G.c,{courseProgress:r}),Object(G.b)(r.get("id"),r),z.markComplete(a,i,p.a.get().id).done()},d=function goToNextItem(){t&&c.push(t.getLink())};return Object(s.d)("div",{"data-testid":"reading-complete-container",css:ee.readingCompleteContainer},n?Object(s.d)(A.a,{container:!0,direction:"row","data-testid":"completed",css:ee.completed},Object(s.d)(A.a,{item:!0,alignItems:"center","data-testid":"completed-text",css:ee.completedText},Z||(Z=Object(s.d)(T.a,{size:"large",color:"success","aria-hidden":!0})),Object(s.d)(f.a,{variant:"h3bold",color:"success",css:ee.text},W()("Completed"))),!!t&&Object(s.d)(A.a,{item:!0},Object(s.d)(F.a,{"data-testid":"next-item",css:ee.nextItem,variant:"primary",type:"submit",onClick:d},W()("Go to next item")))):Object(s.d)("div",null,Object(s.d)(F.a,{"data-testid":"mark-complete",variant:"primary",type:"submit",onClick:l},W()("Mark as completed"))))},te=Object(u.b)(Object(R.a)())(ne),ae=n("kDtP"),ie=n("Q/rb"),re=n("j0VE"),oe,ce,se,le;n.d(e,"ReadingItem",(function(){return me}));var de=I.a.get("showLearningAssistant")?d.a.lazy((function(){return Promise.resolve().then(n.bind(null,"VDEC")).then((function(e){return e}))})):function(){return null},ue={negativeMarginLeft:Object(s.c)({marginLeft:"-16px"}),title:function title(e){return Object(s.c)(oe||(oe=c()(["\n    margin-bottom: ",";\n    "," {\n      margin-bottom: ",";\n    }\n  "])),e.spacing(32),e.breakpoints.up("md"),e.spacing(48))},cmlRestyling:Object(s.c)(ce||(ce=c()(["\n    max-width: 790px;\n  "]))),body:function body(e){return Object(s.c)(se||(se=c()(["\n    margin-bottom: ",";\n  "])),e.spacing(48))}},me=function(e){function ReadingItem(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).state={readingCml:null},n}r()(ReadingItem,e);var n=ReadingItem.prototype;return n.componentDidMount=function componentDidMount(){var e=this,n=this.props,t=n.computedItem,a=n.courseId,i=n.courseSlug,r=t.id;supplementData({itemId:r,courseId:a,courseSlug:i}).then((function(n){e.setState({readingCml:n})}))},n.renderExternalActions=function renderExternalActions(){var e=this.props,n=e.computedItem,t=e.courseId,a=e.courseSlug,i=e.branchId;return Object(s.d)("div",{css:ue.negativeMarginLeft},Object(s.d)(re.a,{courseId:t,courseBranchId:i,itemId:n.id,courseSlug:a}))},n.renderTitle=function renderTitle(){var e=this.props,n=e.computedItem,t=e.theme,a=this.state.readingCml;if(!a)return null;var i=Object(j.d)(a);if(i&&Object(j.j)(i,"1")&&y.c.getInnerContent(i)===n.name)return null;return Object(s.d)("div",{className:"reading-title",css:ue.title(t)},Object(s.d)(f.a,{variant:"d2",component:"h1"},n.name),this.renderExternalActions())},n.render=function render(){var e,n,t=this.props,i=t.computedItem,r=t.courseId,o=t.courseSlug,c=t.itemMetadata,d=t.courseMaterials,u=t.courseProgress,m=t.theme,g=this.state.readingCml,h=x.NAME,f=x.USER_ID,b=I.a.get("showLearningAssistant"),k=null==d?void 0:null===(e=d.getNeighbors(c))||void 0===e?void 0:e.nextItemMetadataOrItemGroup;return Object(s.d)(ie.a,{className:"rc-ReadingItem",feedbackType:"reading",computedItem:i,courseId:r,css:ue.cmlRestyling},Object(s.d)("div",{css:ue.body(m)},g?Object(s.d)("div",null,this.renderTitle(),Object(s.d)(w.a,{cml:g,isCdsEnabled:!0,shouldApplyTracking:!0,variableData:(n={},a()(n,h,p.a.get().fullName),a()(n,f,p.a.get().id),n)}),Object(s.d)(te,{courseId:r,courseSlug:o,itemId:i.id,isComplete:i.isCompleted,nextItem:k,courseProgress:u})):le||(le=Object(s.d)(ae.a,null))),b&&Object(s.d)(l.Suspense,{fallback:null},Object(s.d)(de,{courseId:r,itemId:i.id,humanReadableItemType:v.HumanReadableItemType.READING})))},ReadingItem}(d.a.Component),pe=e.default=Object(u.b)(Object(m.a)(["CourseStore","ProgressStore","SessionStore"],(function(e){var n=e.CourseStore,t=e.ProgressStore,a=e.SessionStore;return{courseId:n.getCourseId(),branchId:a.getBranchId()||n.getCourseId(),courseSlug:n.getCourseSlug(),courseMaterials:n.getMaterials(),courseProgress:t.courseProgress}})),b.a)(me)},"24m0":function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"id":true,"ja":true,"kk":true,"ko":true,"pt":true,"ru":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"7h5H":function(module,exports){exports.default={"ar":true,"de":true,"es":true,"fr":true,"id":true,"ja":true,"kk":true,"ko":true,"pt":true,"ru":true,"uk":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},"8PY9":function(module,exports,e){e("Xb1k")},DxU6:function(module,exports,e){var n=e("7h5H"),t=n.default?n.default:{},a,i=(0,e("HdzH").default)(t);i.getLocale=function(){return"en"},module.exports=i},MC18:function(module,exports,e){var n=e("24m0"),t=n.default?n.default:{},a,i=(0,e("HdzH").default)(t);i.getLocale=function(){return"en"},module.exports=i},VDEC:function(module,e,n){"use strict";n.r(e);var t=n("J4zp"),a=n.n(t),i=n("VkAN"),r=n.n(i),o=n("AeFk"),c=n("q1tI"),s=n.n(c),l=n("Gcrz"),d=n("/MKj"),u=n("agHs"),m=n("L1vm"),p=n("sQ/U"),g=n("kgYC"),h="BEHAVIOR/TOGGLE_CHAT",f="BEHAVIOR/TOGGLE_FULLSCREEN",b="BEHAVIOR/TOGGLE_INPUT_DISABLED",v="BEHAVIOR/TOGGLE_MSG_LOADER",w="BEHAVIOR/SET_BADGE_COUNT",k="MESSAGES/ADD_NEW_USER_MESSAGE",x="MESSAGES/ADD_NEW_RESPONSE_MESSAGE",S="MESSAGES/ADD_NEW_LINK_SNIPPET",C="MESSAGES/ADD_COMPONENT_MESSAGE",O="MESSAGES/DROP_MESSAGES",y="MESSAGES/HIDE_AVATAR",j="MESSAGES/DELETE_MESSAGES",I="MESSAGES/MARK_ALL_READ",N="MESSAGE/FEEDBACK_SET_LIKE",E="MESSAGE/FEEDBACK_SET_UNLIKE",A="MESSAGE/FEEDBACK_UNSET",F="INPUT/SET_USER_INPUT_TEXT",T="SESSION/NEW_CHAT_SESSION";function actions_toggleChat(){return{type:h}}function actions_toggleFullScreen(){return{type:f}}function toggleInputDisabled(){return{type:b}}function addUserMessage(e,n){return{type:k,text:e,id:n}}function addResponseMessage(e,n,t){return{type:x,text:e,id:n,clipRecommendations:t}}function toggleMsgLoader(){return{type:v}}function addLinkSnippet(e,n){return{type:S,link:e,id:n}}function renderCustomComponent(e,n,t,a){return{type:C,component:e,props:n,showAvatar:t,id:a}}function dropMessages(){return{type:O}}function hideAvatar(e){return{type:y,index:e}}function deleteMessages(e,n){return{type:j,count:e,id:n}}function setBadgeCount(e){return{type:w,count:e}}function markAllMessagesRead(){return{type:I}}function setUserInput(e){return{type:F,inputText:e}}function setLike(e){return{type:N,id:e}}function setUnLike(e){return{type:E,id:e}}function setUnSet(e){return{type:A,id:e}}var R=n("TSYQ"),M=n.n(R),L=n("6/Gu"),D=n("8Hdl"),B=n("ZJgU"),U=n("sBcU"),P=n("kyt0"),z,H={container:Object(o.c)({width:"25px",display:"inline-block",padding:"5px 0 0 0",margin:"0 6px 0 0"})},V=function ChatSessionCreateIcon(){return Object(o.d)("span",{css:H.container},z||(z=Object(o.d)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 23.64 21.67"},Object(o.d)("defs",null,Object(o.d)("style",null,".cls-1{fill:none;stroke:#fff;stroke-linecap:round;stroke-linejoin:round;}")),Object(o.d)("g",null,Object(o.d)("path",{className:"cls-1",d:"m.5,16.25V2.95C.5,1.6,1.6.5,2.95.5h17.74c1.36,0,2.45,1.1,2.45,2.45v10.84c0,1.36-1.1,2.45-2.45,2.45H4.44"}),Object(o.d)("polyline",{className:"cls-1",points:"4.44 16.25 .5 21.17 .5 16.25"})),Object(o.d)("g",null,Object(o.d)("line",{className:"cls-1",x1:"7.39",y1:"8.38",x2:"16.25",y2:"8.38"}),Object(o.d)("line",{className:"cls-1",x1:"11.82",y1:"3.95",x2:"11.82",y2:"12.81"})))))};V.displayName="NewChatIcon";var G=V,q=n("cAeq"),W=n("vUL0"),Q=n("DxU6"),K=n.n(Q),J,Y,X,Z,ee,ne,te,ae,ie,re,oe={headerButtons:Object(o.c)(J||(J=r()(["\n    justify-content: flex-end;\n  "])))};function Header(e){var n=e.toggleChat,t=e.isFullScreen,a=e.toggleFullScreen,i=e.showCloseButton,c=e.showFullScreenButton,s=e.handleNewSession,l=Object(g.a)(),d=Object(m.b)();return Object(o.d)(L.a,{container:!0,className:"rcw-header",justifyContent:"space-between",css:Object(o.c)(Y||(Y=r()(["\n        border-radius: 10px 10px 0 0;\n        padding: ",";\n        align-items: center;\n      "])),l.spacing(4))},Object(o.d)(L.a,{item:!0,xs:7},Object(o.d)("div",{css:Object(o.c)(X||(X=r()(["\n            padding-top: 0px;\n            "," {\n              padding-top: 4px;\n            }\n          "])),l.breakpoints.down("xs"))},Object(o.d)(W.a,{hexColorCode:"#ffffff",css:Object(o.c)(Z||(Z=r()(["\n              height: 16px;\n              width: 130px;\n              margin-bottom: 5px;\n            "])))}),Object(o.d)(D.a,{variant:"h1semibold",color:"invertBody",css:Object(o.c)(ee||(ee=r()(["\n              font-weight: 300;\n              display: inline;\n            "])))},K()("coach")))),Object(o.d)(L.a,{item:!0,xs:5},Object(o.d)(L.a,{container:!0,alignItems:"center",justifyContent:"space-between",xs:12},Object(o.d)(L.a,{container:!0,item:!0,css:oe.headerButtons},Object(o.d)(L.a,{item:!0},!!s&&Object(o.d)(q.a,{message:K()("Start a new chat. This will clear your chat history so you can start fresh."),placement:"bottom"},Object(o.d)(B.a,{onClick:function onClick(){d({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_new_session_button",action:"click"}),s()},size:"small",icon:ne||(ne=Object(o.d)(G,null)),iconPosition:"after",css:Object(o.c)(te||(te=r()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})),c&&Object(o.d)(U.a,{intent:t?"collapse":"expand",onClick:function onClick(){d({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_full_screen_".concat(t?"collapse":"expand","_button"),action:"click"}),a()},size:"medium",tooltipPlacement:"bottom","aria-label":t?K()("Minimize coursera coach chat."):K()("Maximize coursera coach chat."),tooltip:t?K()("Minimize"):K()("Maximize")}),i&&Object(o.d)(q.a,{message:K()("Close chat."),placement:"bottom"},Object(o.d)(B.a,{onClick:function onClick(){d({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_header_close_button",action:"click"}),n()},size:"small",iconPosition:"after",icon:Object(o.d)("span",{css:Object(o.c)(ae||(ae=r()(["\n                          margin: 0 6px 0 0;\n                        "])))},ie||(ie=Object(o.d)(P.a,{"aria-label":"close"}))),css:Object(o.c)(re||(re=r()(["\n                      height: 48px;\n                      width: 48px;\n                    "])))})))))))}var ce=Header,se=n("lPk7"),le=n("HDKb"),de=n("5mFy"),ue=n("7Dw/"),me=n("pVnL"),pe=n.n(me),ge=n("wd/R"),he=n.n(ge),fe=n("GXs9"),be=n("JJfJ"),ve=n("fAYU"),we,ke,xe,Se,Ce,Oe,ye;function generateConsumerVideoPageLink(e,n,t){return"/lecture/".concat(e,"/").concat(n,"-").concat(t)}function Clip(e){var n=e.course,t=n.slug,a=n.name,i=e.duration,s=e.itemId,l=e.itemSlug,d=e.itemTitle,u=e.partners,p=e.previewImage,h=Object(g.a)(),f=Object(m.b)(),b={alt:"",imgParams:{fit:"fill",auto:"format,compress",quality:"25"},width:"100%"};return Object(o.d)("div",{className:"rcw-citation-clip",css:Object(o.c)(we||(we=r()(["\n        display: flex;\n        margin: ",";\n      "])),h.spacing(4,0,16,0))},Object(o.d)("div",{css:Object(o.c)(ke||(ke=r()(["\n          width: 90px;\n          min-width: 90px;\n          max-width: 90px;\n          margin: ",";\n        "])),h.spacing(0,8))},Object(o.d)(fe.a,pe()({},b,{src:p,style:{border:"1px solid ".concat(h.palette.gray[300]),"border-radius":"4px"}}))),Object(o.d)("div",null,Object(o.d)("div",{css:Object(o.c)(xe||(xe=r()(["\n            display: flex;\n            flex-wrap: wrap;\n          "])))},u&&u.length>0&&Object(o.d)(c.Fragment,null,u[0].logo&&Object(o.d)("div",{css:Object(o.c)(Se||(Se=r()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),h.palette.gray[300],h.spacing(0,4,0,0))},Object(o.d)(fe.a,pe()({},b,{src:u[0].logo,style:{"margin-bottom":"4px"}}))),u.length>1&&u[1].logo&&Object(o.d)("div",{css:Object(o.c)(Ce||(Ce=r()(["\n                    height: 22px;\n                    width: 22px;\n                    border: 1px solid ",";\n                    border-radius: 4px;\n                    margin: ",";\n                  "])),h.palette.gray[300],h.spacing(0,4,0,0))},Object(o.d)(fe.a,pe()({},b,{src:u[1].logo,style:{"margin-bottom":"4px"}})))),Object(o.d)(D.a,{component:"span",variant:"body2",color:"supportText"},u&&u.length>1?K()("#{partner1}, #{partner2}",{partner1:u[0].name,partner2:u[1].name}):u&&u[0].name)),Object(o.d)(D.a,{variant:"h3semibold",css:Object(o.c)(Oe||(Oe=r()(["\n            margin: ",";\n          "])),h.spacing(4,0,4,0))},d),Object(o.d)(D.a,{component:"span",variant:"body2",color:"supportText"},K()("From the course: ")),Object(o.d)(D.a,{component:"span",variant:"body2",color:"supportText"},a),Object(o.d)(D.a,{variant:"body2",color:"supportText",css:Object(o.c)(ye||(ye=r()(["\n            margin: ",";\n          "])),h.spacing(0,0,4,0))},Object(be.x)(he.a.duration(i))),Object(o.d)(ve.a,{href:generateConsumerVideoPageLink(t,l,s)+"?backenabled=1",variant:"quiet",typographyVariant:"body2",onClick:function onClick(){f({trackingData:{course_slug:t,item_slug:l,item_id:s,timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_clip_link",action:"click"})}},K()("Open video page"))))}var je=Clip;function ClipRecommendations(e){var n=e.clips,t=Object(m.b)();return s.a.createElement(le.a,{variant:"silent",className:"rcw-ClipRecommendations",onChange:function onChange(e,n){var a=n?"expand":"collapse";t({trackingData:{timestamp:Date.now()},trackingName:"ai_course_coach_chat_clip_recommendation_accordion_".concat(a),action:"click"})}},s.a.createElement(de.a,{label:K()("Explore this topic with related video clips")}),s.a.createElement(ue.a,null,n.map((function(e){return s.a.createElement(je,e)}))))}var Ie=m.a.withVisibilityTracking(ClipRecommendations),Ne=function CoachAvatar(e){var n=e.imageUrl;return Object(o.d)("img",{src:n,className:"rcw-avatar",alt:"coach-profile"})};function isAlphaCharacters(e){var n,t,a;for(t=0,a=e.length;t<a;t++)if(!((n=e.charCodeAt(t))>64&&n<91||n>96&&n<123))return!1;return!0}function extractFirstAndLastNames(e){var n=0,t=e.length-1,a=[];if(!e||e.length<1)return["-","-"];if(e[0]&&!isAlphaCharacters(e[0][0])&&e.shift(),e[t]&&!isAlphaCharacters(e[t])&&e.pop(),e.length-1!==t)return extractFirstAndLastNames(e);if(e[0]){var i=e[0];a.push(i)}if(0!==t&&e[t]){var r=e[t];a.push(r)}return a}function initialsFromName(e){var n,t=extractFirstAndLastNames(e.split(" ")),i=a()(t,2),r=i[0],o=i[1],c=r?r[0]:"",s=o?o[0]:"";return"".concat(c).concat(s)}var Ee=function LearnerAvatar(e){var n=e.imageUrl,t=e.fullName,a={borderRadius:"50px",width:"40x",height:"40x",alignItems:"center",justifyContent:"center",display:"flex",overflow:"hidden",verticalAlign:"middle",backgroundColor:"#3BAFDA",color:"#ffffff"},i=t&&initialsFromName(t)||"--";return n?Object(o.d)("img",{src:n,className:"rcw-avatar rcw-avatar-client",alt:"learner-profile"}):Object(o.d)(D.a,{component:"span",variant:"h3bold",css:a,className:"rcw-avatar rcw-avatar-client"},i)},_e="hh:mm A";function Timestamp(e){var n=e.timestamp;return(s.a.createElement("span",{className:"rcw-timestamp"},Object(be.w)(n,_e)))}var Ae=Timestamp,Fe={CLIENT:"client",RESPONSE:"response"},Te={TEXT:"text",SNIPPET:{LINK:"snippet"},CUSTOM_COMPONENT:"component"},Re="LIKE",Me="DISLIKE",Le="UNSET",De={VIDEO:"video",READING:"reading"},Be=function getErrorMessageText(){return K()("Sorry, there was an error responding. Please try your message again.")},Ue=400,Pe="activeCourseraCoachSessionId",ze=n("TNJZ"),He=n.n(ze),Ve=n("u6k4"),Ge=n.n(Ve),qe=n("1+lQ"),We=n.n(qe),Qe=n("MPo6"),Ke=n.n(Qe),Je=n("e6bE"),Ye=n.n(Je);function Message(e){var n=e.message,t=Ge()({break:!0}).use(He.a,{img:["rcw-message-img"]}).use(Ye.a).use(Ke.a).use(We.a,{attrs:{target:"_blank",rel:"noopener"}}).render(n.text);return s.a.createElement("div",{className:"rcw-".concat(n.sender," rcw-message-text"),dangerouslySetInnerHTML:{__html:t.replace(/\n$/,"")}})}var Xe=Message;function Snippet(e){var n=e.message;return(s.a.createElement("div",{className:"rcw-snippet"},s.a.createElement("h5",{className:"rcw-snippet-title"},n.title),s.a.createElement("div",{className:"rcw-snippet-details"},s.a.createElement("a",{href:n.link,target:n.target,className:"rcw-link"},n.link))))}var $e=Snippet;function createNewMessage(e,n,t,a){return{type:Te.TEXT,component:Xe,text:e,sender:n,timestamp:new Date,showAvatar:!0,customId:t,unread:n===Fe.RESPONSE,clipRecommendations:a}}function createLinkSnippet(e,n){return{type:Te.SNIPPET.LINK,component:$e,title:e.title,link:e.link,target:e.target||"_blank",sender:Fe.RESPONSE,timestamp:new Date,showAvatar:!0,customId:n,unread:!0}}function createComponentMessage(e,n,t,a){return{type:Te.CUSTOM_COMPONENT,component:e,props:n,sender:Fe.RESPONSE,timestamp:new Date,showAvatar:t,customId:a,unread:!0}}function sinEaseOut(e,n,t,a){return t*((e=e/a-1)*e*e+1)+n}function scrollWithSlowMotion(e,n,t){var a,i=null===(a=window)||void 0===a?void 0:a.requestAnimationFrame,r=0,o=function step(a){r||(r=a);var o=sinEaseOut(a-r,0,t,Ue),c=n+o;e.scrollTop=c,c<n+t&&i(step)};i(o)}function scrollToBottom(e){if(!e)return;var n=e.clientHeight,t=e.scrollTop,a=e.scrollHeight-(t+n);a&&scrollWithSlowMotion(e,t,a)}var Ze=n("3tO9"),en=n.n(Ze),nn=n("0/vS"),tn=n.n(nn),an=n("4gsa"),rn=n("wD02"),on,cn=function Dislike(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(s.a.createElement("div",null,n?s.a.createElement(an.a,{color:"interactive",onClick:a,className:"rcw-feedback-icon"}):s.a.createElement(rn.a,{color:"interactive",onClick:t,className:"rcw-feedback-icon"})))},sn=n("8/sX"),ln=n("LKFv"),dn,un=function Like(e){var n=e.selected,t=e.onSelect,a=e.onDeselect;return(s.a.createElement("div",null,n?s.a.createElement(sn.a,{color:"interactive",onClick:a,className:"rcw-feedback-icon"}):s.a.createElement(ln.a,{color:"interactive",onClick:t,className:"rcw-feedback-icon"})))},mn,pn=function Feedback(e){var n=e.message,t=Object(d.b)(),a=Object(m.b)(),i=function handleTracking(e){a({trackingData:{message_id:n.customId,coach_response:n.text,timestamp:Date.now()},trackingName:e,action:"click"})};return n.text!==Be()?s.a.createElement(s.a.Fragment,null,"response"===n.sender&&s.a.createElement(l.c,{mutation:tn.a,context:{clientName:"gatewayGql"}},(function(e){var a={messageId:n.customId,userComments:n.text},r=function onLikeSelect(){i("ai_course_coach_chat_user_feedback_like_select"),t(setLike(n.customId)),e({variables:{input:en()(en()({},a),{},{userFeedback:Re})}})},o=function onDislikeSelect(){i("ai_course_coach_chat_user_feedback_dislike_select"),t(setUnLike(n.customId)),e({variables:{input:en()(en()({},a),{},{userFeedback:Me})}})},c=function onDeselect(){i("ai_course_coach_chat_user_feedback_remove_selection"),t(setUnSet(n.customId)),e({variables:{input:en()(en()({},a),{},{userFeedback:Le})}})};return s.a.createElement("div",{className:"rcw-feedback-container"},s.a.createElement(un,{selected:n.userFeedback===Re,onSelect:r,onDeselect:c}),s.a.createElement(cn,{selected:n.userFeedback===Me,onSelect:o,onDeselect:c}))}))):null},gn,hn={loaderContainer:Object(o.c)({padding:"15px 15px 15px 88px",textAlign:"left"}),cursor:function cursor(e){var n=e.color,t=void 0===n?"grey":n,a=Object(o.e)(gn||(gn=r()(["\n      0% {background: transparent}\n      50% {background: ","}}\n      100% {background: transparent}\n    "])),t);return Object(o.c)({animationName:a,animationIterationCount:"infinite",height:"1.3rem",width:"0.6rem",animationDuration:"1s",display:"inline-block"})}};function Loader(e){var n,t=e.typing?hn.cursor({color:"grey"}):Object(o.c)({});return Object(o.d)("div",null,Object(o.d)("div",{css:hn.loaderContainer},Object(o.d)("span",{css:t})))}var fn=Loader,bn,vn,wn,kn,xn={messagesContainer:function messagesContainer(){return Object(o.c)(bn||(bn=r()(["\n    /* Hide scrollbar for Chrome, Safari and Opera */\n    ::-webkit-scrollbar {\n      display: none;\n    }\n\n    /* Hide scrollbar for IE, Edge and Firefox */\n    -ms-overflow-style: none; /* IE and Edge */\n    scrollbar-width: none; /* Firefox */\n  "])))}},Sn,Cn=function Messages(e){var n,t=e.profileAvatar,a=e.profileClientAvatar,i=e.showTimeStamp,s=e.homeView,l=Object(g.a)(),u=Object(d.b)(),m=Object(d.c)((function(e){return{messages:e.messages.messages,badgeCount:e.messages.badgeCount,typing:e.behavior.messageLoader,showChat:e.behavior.showChat}})),h=m.messages,f=m.typing,b=m.showChat,v=m.badgeCount,w=Object(c.useRef)(null);Object(c.useEffect)((function(){scrollToBottom(w.current),b&&v&&u(markAllMessagesRead())}),[u,v,b]),Object(c.useEffect)((function(){scrollToBottom(w.current)}),[f]);var k=function getComponentToRender(e){var n=e.component;if("component"===e.type)return Object(o.d)(n,e.props);return Object(o.d)(n,{message:e})},x=function isClient(e){return e===Fe.CLIENT},S=function isCoachResponse(e){return e===Fe.RESPONSE},C,O=function isJSXElement(e){return"string"!=typeof e}(t)?t:Object(o.d)(Ne,{imageUrl:t});return Object(o.d)("div",{id:"messages",className:"rcw-messages-container",ref:w,css:xn.messagesContainer},!(null!=h&&h.length)&&s,null==h?void 0:h.map((function(e,t){var s,d;return Object(o.d)("div",{className:"rcw-message ".concat(x(e.sender)?"rcw-message-client":""),key:"".concat(t,"-").concat(e.timestamp.valueOf())},x(e.sender)?Object(o.d)(Ee,{imageUrl:a,fullName:null===(s=p.a.get())||void 0===s?void 0:s.fullName}):n||(n=Object(o.d)("div",{className:"rcw-avatar rcw-avatar-client"},O)),Object(o.d)("div",{css:Object(o.c)(vn||(vn=r()(["\n              overflow: auto;\n            "])))},k(e),Object(o.d)("div",{css:Object(o.c)(wn||(wn=r()(["\n                display: flex;\n              "])))},i&&Object(o.d)(Ae,{timestamp:e.timestamp}),Object(o.d)(pn,{message:e})),S(e.sender)&&e.clipRecommendations&&(null===(d=e.clipRecommendations)||void 0===d?void 0:d.length)>0&&Object(o.d)(c.Fragment,null,Object(o.d)(se.a,{color:"dark",css:Object(o.c)(kn||(kn=r()(["\n                    margin: ",";\n                  "])),l.spacing(8,0))}),Object(o.d)(Ie,{clips:e.clipRecommendations,trackingName:"ai_course_coach_clips_recommendation"}))))})),Object(o.d)(fn,{typing:f}))},On=n("dhC9"),yn=n("IoQW"),jn=n("ANjH"),In=n("lSNA"),Nn=n.n(In),En=function createReducer(e,n,t){return e[t.type]?e[t.type](n,t):n},_n,An={showChat:!1,isFullScreen:!1,disabledInput:!1,messageLoader:!1},Fn=(_n={},Nn()(_n,h,(function(e){return en()(en()({},e),{},{showChat:!e.showChat})})),Nn()(_n,f,(function(e){return en()(en()({},e),{},{isFullScreen:!e.isFullScreen})})),Nn()(_n,b,(function(e){return en()(en()({},e),{},{disabledInput:!e.disabledInput})})),Nn()(_n,v,(function(e){return en()(en()({},e),{},{messageLoader:!e.messageLoader})})),_n),reducers_behaviorReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:An,n=arguments.length>1?arguments[1]:void 0;return En(Fn,e,n)},Tn={inputText:""},Rn=Nn()({},F,(function(e,n){return en()(en()({},e),{},{inputText:n.inputText})})),reducers_inputReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn,n=arguments.length>1?arguments[1]:void 0;return En(Rn,e,n)},Mn=n("RIqP"),Ln=n.n(Mn),Dn,Bn={messages:[],badgeCount:0},Un=(Dn={},Nn()(Dn,k,(function(e,n){var t=n.text,a=n.showClientAvatar,i=n.id;return en()(en()({},e),{},{messages:[].concat(Ln()(e.messages),[createNewMessage(t,Fe.CLIENT,i)])})})),Nn()(Dn,x,(function(e,n){var t=n.text,a=n.id,i=n.clipRecommendations;return en()(en()({},e),{},{messages:[].concat(Ln()(e.messages),[createNewMessage(t,Fe.RESPONSE,a,i)]),badgeCount:e.badgeCount+1})})),Nn()(Dn,S,(function(e,n){var t=n.link,a=n.id;return en()(en()({},e),{},{messages:[].concat(Ln()(e.messages),[createLinkSnippet(t,a)])})})),Nn()(Dn,C,(function(e,n){var t=n.component,a=n.props,i=n.showAvatar,r=n.id;return en()(en()({},e),{},{messages:[].concat(Ln()(e.messages),[createComponentMessage(t,a,i,r)])})})),Nn()(Dn,O,(function(e){return en()(en()({},e),{},{messages:[],badgeCount:0})})),Nn()(Dn,y,(function(e,n){var t=n.index;return e.messages[t].showAvatar=!1})),Nn()(Dn,j,(function(e,n){var t=n.count,a=n.id,i=a?e.messages.filter((function(_,n){var i=e.messages.findIndex((function(e){return e.customId===a}));return n<i-t+1||n>i})):e.messages.slice(0,e.messages.length-t);return en()(en()({},e),{},{messages:i,badgeCount:i.filter((function(e){return e.unread})).length})})),Nn()(Dn,w,(function(e,n){var t=n.count;return en()(en()({},e),{},{badgeCount:t})})),Nn()(Dn,I,(function(e){return en()(en()({},e),{},{messages:e.messages.map((function(e){return en()(en()({},e),{},{unread:!1})})),badgeCount:0})})),Nn()(Dn,N,(function(e,n){var t=n.id;return en()(en()({},e),{},{messages:e.messages.map((function(e){return en()(en()({},e),{},{userFeedback:t===e.customId?Re:e.userFeedback})}))})})),Nn()(Dn,E,(function(e,n){var t=n.id;return en()(en()({},e),{},{messages:e.messages.map((function(e){return en()(en()({},e),{},{userFeedback:t===e.customId?Me:e.userFeedback})}))})})),Nn()(Dn,A,(function(e,n){var t=n.id;return en()(en()({},e),{},{messages:e.messages.map((function(e){return en()(en()({},e),{},{userFeedback:t===e.customId?Le:e.userFeedback})}))})})),Dn),reducers_messagesReducer=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,n=arguments.length>1?arguments[1]:void 0;return En(Un,e,n)},Pn=jn.b,zn=Object(jn.a)({behavior:reducers_behaviorReducer,messages:reducers_messagesReducer,input:reducers_inputReducer}),Hn=Object(jn.c)(zn,Pn()),Vn,Gn,qn;function dispatcher_addUserMessage(e,n){Hn.dispatch(addUserMessage(e,n))}function dispatcher_addResponseMessage(e,n,t){Hn.dispatch(addResponseMessage(e,n,t))}function dispatcher_addLinkSnippet(e,n){Hn.dispatch(addLinkSnippet(e,n))}function dispatcher_toggleMsgLoader(){Hn.dispatch(toggleMsgLoader())}function dispatcher_renderCustomComponent(e,n){var t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3?arguments[3]:void 0;Hn.dispatch(renderCustomComponent(e,n,t,a))}function toggleWidget(){Hn.dispatch(actions_toggleChat())}function dispatcher_toggleFullScreen(){Hn.dispatch(actions_toggleFullScreen())}function dispatcher_toggleInputDisabled(){Hn.dispatch(toggleInputDisabled())}function dispatcher_dropMessages(){Hn.dispatch(dropMessages())}function dispatcher_deleteMessages(e,n){Hn.dispatch(deleteMessages(e,n))}function markAllAsRead(){Hn.dispatch(markAllMessagesRead())}function dispatcher_setBadgeCount(e){Hn.dispatch(setBadgeCount(e))}function setUserInputText(e){Hn.dispatch(setUserInput(e))}function clearUserInputText(){Hn.dispatch(setUserInput(""))}var Wn=7,Qn={textBox:function textBox(e){return Object(o.c)(Vn||(Vn=r()(["\n    .cds-text-field-root {\n      margin-top: ",";\n    }\n    > label {\n      margin-bottom: 0;\n    }\n\n    /* Override CDS style to hide gray background of the Send button (non-standard use case) */\n    .cds-text-field-root .cds-inputAdornment-filled {\n      padding: 0;\n      background-color: white;\n    }\n  "])),e.spacing(8))},container:function container(e){return Object(o.c)(Gn||(Gn=r()(["\n    border-top: 1px solid ",";\n    padding: 0 ",";\n  "])),e.palette.gray[300],e.spacing(12))}};function Sender(e){var n=e.sendMessage,t=e.placeholder,a=e.disabledInput,i=e.autofocus,r=e.buttonAlt,s=e.onTextInputChange,l=Object(d.c)((function(e){return e.behavior.showChat})),u=Object(d.c)((function(e){return e.input.inputText})),p=Object(c.useRef)(null),g=Object(c.useRef)(null),h=Object(m.b)();Object(c.useEffect)((function(){var e;l&&i&&(null===(e=p.current)||void 0===e||e.focus())}),[i,l]);var f=function handleTextChange(e){var n=e.target.value;s&&s(n),setUserInputText(n)},b=function handleSendMessgeClick(){n(u),h({trackingData:{input_text:u,timestamp:Date.now()},trackingName:"ai_course_coach_chat_send_message",action:"click_send_message"}),clearUserInputText()},v,w={onKeyPress:function handleKeyPress(e){13!==e.charCode||e.shiftKey||(e.preventDefault(),b())}};return Object(o.d)("div",{ref:g,css:Qn.container},Object(o.d)("div",{className:M()("rcw-new-message",{"rcw-message-disable":a})},Object(o.d)(On.a,{fullWidth:!0,multiline:!0,minRows:1,maxRows:Wn,label:"",type:"text",readOnly:a,ref:p,placeholder:t,onChange:f,value:u,inputProps:w,css:Qn.textBox,suffix:Object(o.d)(B.a,{variant:"ghost",onClick:b,disabled:a,"aria-label":r},qn||(qn=Object(o.d)(yn.a,{size:"large"})))})))}var Kn=Object(c.forwardRef)(Sender),Jn;function Footer(){return Object(o.d)(D.a,{variant:"body2",color:"supportText",css:Object(o.c)(Jn||(Jn=r()(["\n        margin: 4px 20px 13px 20px;\n      "])))},K()("Coach is limited to course-related questions and powered by AI, so surprises and mistakes are possible."))}var Yn=Footer,Xn,$n,Zn,et,nt,tt=.3,at=.15,it=410,rt=663,ot="100vh",ct=50,st=50,lt=90,dt=20,ut=Object(o.e)(Xn||(Xn=r()(["\n  100% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n"]))),mt=Object(o.e)($n||($n=r()(["\n  0% {\n    height: 100%;\n    width: 100%;\n    right: 0;\n    bottom: 0;\n    max-width: 100vw;\n  }\n  100% {\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n  }\n"])),rt,it,dt,lt,it),pt={enterFullScreenAnimation:ut,exitFullScreenAnimation:mt,container:Object(o.c)(Zn||(Zn=r()(["\n    height: ","px;\n    width: ","px;\n    right: ",";\n    bottom: ",";\n    max-width: ","px;\n    max-height: ",";\n    @media screen and (max-width: 800px) {\n      width: 100vw !important;\n      max-width: 100vw !important;\n    }\n    @media screen and (max-width: 450px) {\n      height: 100vh !important;\n      top: 0 !important;\n      bottom: 0 !important;\n      right: 0 !important;\n      left: 0 !important;\n      position: fixed !important;\n    }\n    animation-fill-mode: both;\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),rt,it,dt,lt,it,ot),exitFullScreen:Object(o.c)(et||(et=r()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n    .rcw-messages-container {\n      max-width: 100% !important;\n      height: 100% !important;\n    }\n    background-color: white;\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important;\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    animation-fill-mode: backwards;\n  "])),mt,.15,.3),fullScreen:Object(o.c)(nt||(nt=r()(["\n    position: fixed !important;\n    right: 20px;\n    bottom: 90px;\n    z-index: 9999;\n    max-width: 100vw;\n    background-color: white;\n\n    animation-fill-mode: forwards;\n\n    animation-property: bottom, right, min-width, min-height, max-width, max-height !important;\n    animation-name: "," !important;\n    animation-delay: ","s;\n    animation-duration: ","s;\n    .rcw-messages-container {\n      max-height: 100%;\n      height: 100%;\n    }\n  "])),ut,.15,.3)};function useFullScreenAnimation(e){var n=e.isFullScreen,t=Object(c.useState)([pt.container]),i=a()(t,2),r=i[0],o=i[1];function toggleFullScreenAnimation(){var e=n?[pt.container,pt.exitFullScreen]:[pt.container,pt.fullScreen];o(e)}return{toggleFullScreenAnimation:toggleFullScreenAnimation,fullScreenCSS:r}}var gt=n("8aRC"),ht=n("jBGF"),ft=n("nl27"),bt,vt=Object(o.c)(bt||(bt=r()(["\n  .coach-glasses-fill-dark {\n    fill: #000;\n  }\n  .coach-glasses-fill-light {\n    fill: #fff;\n  }\n"]))),wt,kt,xt;function CoachSmileIcon(e){var n,t="light"===e.variant?"coach-glasses-fill-light":"coach-glasses-fill-dark";return Object(o.d)("svg",{css:vt,xmlns:"http://www.w3.org/2000/svg",viewBox:"120.0 80.0 350.0 350.0",fill:"none",stroke:"none",strokeLinecap:"square",strokeMiterlimit:"10"},Object(o.d)("g",{clipPath:"url(#g1e02e13141a_0_86.0)"},Object(o.d)("path",{className:t,d:"m154.00131 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740158 -62.740143l0 0c16.639725 0 32.59793 6.6101074 44.364 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740158 62.740173l0 0c-34.650436 0 -62.740158 -28.089722 -62.740158 -62.740173zm17.99263 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.713379 0 44.747543 -20.03415 44.747543 -44.74756c0 -24.713364 -20.034164 -44.747528 -44.747543 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m310.5013 259.74014l0 0c0 -34.65042 28.089722 -62.740143 62.740143 -62.740143l0 0c16.63974 0 32.59793 6.6101074 44.364014 18.37616c11.766052 11.7660675 18.37616 27.724274 18.37616 44.363983l0 0c0 34.65045 -28.089722 62.740173 -62.740173 62.740173l0 0c-34.65042 0 -62.740143 -28.089722 -62.740143 -62.740173zm17.992615 0l0 0c0 24.71341 20.03415 44.74756 44.747528 44.74756c24.71341 0 44.74756 -20.03415 44.74756 -44.74756c0 -24.713364 -20.03415 -44.747528 -44.74756 -44.747528l0 0c-24.713379 0 -44.747528 20.034164 -44.747528 44.747528z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m257.64163 242.08545l0 0c6.5712585 -14.1698 20.832336 -23.177536 36.450928 -23.02359c15.618622 0.15396118 29.69934 9.441071 35.99002 23.73764l-17.426147 7.6677246c-3.2775574 -7.4487915 -10.613922 -12.287567 -18.751526 -12.367783c-8.137604 -0.080200195 -15.567902 4.6130066 -18.991669 11.995758z",fillRule:"evenodd"}),Object(o.d)("path",{id:"right-eye",cx:"257",cy:"257",className:t,d:"m216.4155 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.70079 -13.700775l0 0c3.6336823 0 7.1185303 1.4434662 9.687927 4.012863c2.569397 2.5694122 4.012863 6.054245 4.012863 9.687912l0 0c0 7.566742 -6.1340485 13.700806 -13.70079 13.700806l0 0c-7.5667267 0 -13.70079 -6.1340637 -13.70079 -13.700806z",fillRule:"evenodd"}),Object(o.d)("path",{id:"left-eye",className:t,d:"m343.0373 265.64664l0 0c0 -7.566742 6.1340637 -13.700775 13.700806 -13.700775l0 0c3.633667 0 7.1184998 1.4434662 9.687897 4.012863c2.569397 2.5694122 4.0128784 6.054245 4.0128784 9.687912l0 0c0 7.566742 -6.1340637 13.700806 -13.700775 13.700806l0 0c-7.566742 0 -13.700806 -6.1340637 -13.700806 -13.700806z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m328.37347 333.21335l0 0c-6.8821106 12.243011 -19.701324 19.95874 -33.7417 20.308746c-14.040344 0.3499756 -27.228088 -6.7174683 -34.71164 -18.602386l8.925354 -5.619995l0 0c5.502655 8.738983 15.199585 13.935669 25.523468 13.678314c10.323883 -0.25732422 19.749847 -5.930725 24.810272 -14.932983z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m141.76114 235.90277l0 0c0 -5.5532227 4.5017853 -10.055008 10.055008 -10.055008l11.701004 0l0 0c2.6667633 0 5.224289 1.059372 7.10997 2.945053c1.8856812 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.50177 10.055008 -10.055008 10.055008l-11.701004 0c-5.5532227 0 -10.055008 -4.5017853 -10.055008 -10.055008z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m417.23877 235.90277l0 0c0 -5.5532227 4.50177 -10.055008 10.055023 -10.055008l11.700989 0l0 0c2.666748 0 5.224304 1.059372 7.1099854 2.945053c1.8856506 1.8856812 2.9450378 4.443207 2.9450378 7.109955l0 7.291565c0 5.5532227 -4.5018005 10.055008 -10.055023 10.055008l-11.700989 0c-5.553253 0 -10.055023 -4.5017853 -10.055023 -10.055008z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m319.48215 327.40158l0 0c1.4785767 -2.5309448 4.7289124 -3.3840942 7.259857 -1.9055176l0 0c1.2153931 0.710022 2.0989685 1.8737793 2.4562988 3.23526c0.35736084 1.3614807 0.15924072 2.8091736 -0.55078125 4.0245667l0 0c-1.4785767 2.5309448 -4.7289124 3.3840637 -7.259857 1.9055176l0 0c-2.5309448 -1.4785461 -3.3840637 -4.7289124 -1.9055176 -7.2598267z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,d:"m259.73413 329.27557l0 0c1.4785461 -2.5309448 4.728882 -3.3840637 7.2598267 -1.9055176l0 0c1.2154236 0.7100525 2.0989685 1.8738098 2.4563293 3.2352905c0.35736084 1.3614807 0.1592102 2.8091736 -0.55081177 4.0245667l0 0c-1.4785461 2.5309448 -4.728882 3.3840637 -7.2598267 1.9055176l0 0c-2.5309448 -1.4785767 -3.3840942 -4.7289124 -1.9055176 -7.259857z",fillRule:"evenodd"}),Object(o.d)("path",{className:t,fillOpacity:"0.0",d:"m29.997375 27.0l46.401573 0l0 42.534775l-46.401573 0z",fillRule:"evenodd"})))}var St={container:function container(e){return Object(o.c)(wt||(wt=r()(["\n      margin-bottom: ",";\n    "])),e.spacing(16))},icon:function icon(e){return Object(o.c)(kt||(kt=r()(["\n      margin-top: ",";\n    "])),e.spacing(4))},button:function button(e){return Object(o.c)(xt||(xt=r()(["\n      text-align: left;\n      justify-content: flex-start;\n      margin-top: ",";\n      padding: 6px ",";\n      max-width: 100%;\n    "])),e.spacing(8),e.spacing(16))}},Ct,Ot=function ClickableExample(e){var n=e.valueProp,t=e.exampleQuestion,a=e.icon,i=e.onClick;return Object(o.d)(L.a,{container:!0,css:St.container},Object(o.d)(L.a,{item:!0,xs:1,css:St.icon},a),Object(o.d)(L.a,{item:!0,xs:11},Object(o.d)(D.a,{variant:"h3semibold"},n),Object(o.d)(B.a,{variant:"secondary",fullWidth:!1,size:"small",onClick:function onClick(){return i(t)},css:St.button},t)))},yt,jt,It,Nt,Et,_t,At,Ft={container:function container(e){return Object(o.c)(yt||(yt=r()(["\n    padding: ",";\n  "])),e.spacing(0,64))},heading:function heading(e){return Object(o.c)(jt||(jt=r()(["\n      margin: ",";\n    "])),e.spacing(0,0,32,0))},icon:function icon(){return Object(o.c)(It||(It=r()(["\n      margin: 0 auto;\n      width: 65px;\n    "])))}},Tt,Rt=function HomeView(e){var n=e.humanReadableItemType,t=e.onQuickMessageClick,a=Object(m.b)(),i=function handleQuickMessageClick(e){t(e),a({trackingData:{item_type:n,example_text:e,timestamp:Date.now()},trackingName:"ai_course_coach_chat_quick_example",action:"click"})};return Object(o.d)("div",{className:"rcw-home-view",css:Ft.container},Object(o.d)("div",{css:Ft.heading},Object(o.d)("div",{css:Ft.icon},Nt||(Nt=Object(o.d)(CoachSmileIcon,{variant:"dark","aria-hidden":!0}))),Object(o.d)(D.a,{variant:"h3semibold"},K()("Have questions about what you're learning? Our AI-powered learning assistant is here to help."))),Object(o.d)(Ot,{valueProp:K()("Get simple explanations of difficult concepts"),exampleQuestion:K()("Can you explain this topic in simple terms?"),icon:Et||(Et=Object(o.d)(gt.a,null)),onClick:i}),Object(o.d)(Ot,{valueProp:K()("Summarize your lectures and readings"),exampleQuestion:K()("Can you summarize this #{humanReadableItemType} for me?",{humanReadableItemType:n}),icon:_t||(_t=Object(o.d)(ht.a,null)),onClick:i}),Object(o.d)(Ot,{valueProp:K()("Create practice exercises to support your learning"),exampleQuestion:K()("Can you generate practice questions based on this #{humanReadableItemType}?",{humanReadableItemType:n}),icon:At||(At=Object(o.d)(ft.a,null)),onClick:i}))},Mt,Lt,Dt,Bt,Ut,Pt,zt,Ht,Vt,Gt,qt,Wt,Qt,Kt={globalDesktop:Object(o.c)(Mt||(Mt=r()(["\n      .hide-smart-scroll-container,\n      .show-smart-scroll-container,\n      .SmartScrollWrapper {\n        z-index: -1 !important;\n      }\n    "]))),globalSmDown:function globalSmDown(e){return Object(o.c)(Lt||(Lt=r()(["\n    "," {\n      .show-smart-scroll-container {\n        z-index: -1 !important;\n      }\n    }\n  "])),e.breakpoints.down("sm"))},conversationContainerHeight:function conversationContainerHeight(e){return Object(o.c)(Dt||(Dt=r()(["\n      ","\n    "])),!e&&Object(o.c)(Bt||(Bt=r()(["\n        max-height: 70vh;\n        @media screen and (max-width: 800px) {\n          max-height: 100vh;\n        }\n      "]))))},conversationContainer:Object(o.c)(Ut||(Ut=r()(["\n    width: 100%;\n    height: 100%;\n    display: flex;\n    flex-flow: column;\n  "]))),conversationContainerCenterFullScreen:Object(o.c)(Pt||(Pt=r()(["\n    @media screen and (min-width: 800px) {\n      width: 770px;\n      margin: 0 auto;\n    }\n  "]))),headerContainer:Object(o.c)(zt||(zt=r()(["\n    flex-grow: 0;\n  "]))),messageContainer:Object(o.c)(Ht||(Ht=r()(["\n    flex-grow: 1;\n    overflow-y: auto;\n    overflow-x: hidden;\n    justify-content: center;\n    max-width: 100%;\n    position: relative;\n  "]))),messageContainerConversationHistory:Object(o.c)(Vt||(Vt=r()([""]))),messageContainerResponses:Object(o.c)(Gt||(Gt=r()(["\n    height: 100%;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),senderContainer:Object(o.c)(qt||(qt=r()(["\n    flex-grow: 0;\n    width: 100%;\n    max-width: 770px;\n    margin: 0 auto;\n  "]))),footerContainer:Object(o.c)(Wt||(Wt=r()(["\n    flex-grow: 0;\n    max-width: 770px;\n    margin: 0 auto;\n  "])))};function Conversation(e){var n=e.senderPlaceHolder,t=e.showCloseButton,a=e.showFullScreenButton,i=e.isFullScreen,r=e.disabledInput,c=e.autofocus,s=e.className,l=e.sendMessage,d=e.toggleChat,u=e.toggleFullScreen,m=e.profileAvatar,p=e.profileClientAvatar,g=e.onTextInputChange,h=e.sendButtonAlt,f=e.showTimeStamp,b=e.handleNewSession,v=e.humanReadableItemType,w=useFullScreenAnimation({isFullScreen:i}),k=w.fullScreenCSS,x=w.toggleFullScreenAnimation,S=function handleFullScreenToggle(){x(),u()};return Object(o.d)("div",{id:"rcw-conversation-container",className:M()("rcw-conversation-container",s),"aria-live":"polite",css:[k,Kt.conversationContainerHeight(i)]},Object(o.d)(o.b,{styles:i?Kt.globalDesktop:Kt.globalSmDown}),Object(o.d)("div",{css:Kt.conversationContainer},Object(o.d)("div",{css:Kt.headerContainer},Object(o.d)(ce,{toggleChat:d,showCloseButton:t,showFullScreenButton:a,toggleFullScreen:S,isFullScreen:i,handleNewSession:b})),Object(o.d)("div",{css:[i&&Kt.conversationContainerCenterFullScreen,Kt.messageContainer]},Object(o.d)("div",{css:Kt.messageContainerResponses},Object(o.d)(Cn,{profileAvatar:m,profileClientAvatar:p,showTimeStamp:f,homeView:Object(o.d)(Rt,{onQuickMessageClick:l,humanReadableItemType:v})}))),Object(o.d)("div",{css:[i&&Kt.conversationContainerCenterFullScreen,Kt.senderContainer]},Object(o.d)(Kn,{sendMessage:l,placeholder:n,disabledInput:r,autofocus:c,onTextInputChange:g,buttonAlt:h})),Object(o.d)("div",{css:[i&&Kt.conversationContainerCenterFullScreen,Kt.footerContainer]},Qt||(Qt=Object(o.d)(Yn,null)))))}var Jt=Conversation;function Badge(e){var n=e.badge;return n>0?s.a.createElement("span",{className:"rcw-badge"},n):null}var Yt=Badge;function Launcher(e){var n=e.toggle,t=e.chatId,a=e.openLabel,i=e.closeLabel,r=e.showBadge,o=Object(d.b)(),c=Object(d.c)((function(e){return{showChat:e.behavior.showChat,badgeCount:e.messages.badgeCount}})),l=c.showChat,u=c.badgeCount,p=Object(m.b)(),g=function toggleChat(){p({trackingData:{badge_count:u,timestamp:Date.now()},trackingName:"ai_course_coach_chat_toggle",action:"click_".concat(l?"close":"open")}),n(),l||o(setBadgeCount(0))};return s.a.createElement("button",{type:"button",className:M()("rcw-launcher",{"rcw-hide-sm":l}),onClick:g,"aria-controls":t},!l&&r&&s.a.createElement(Yt,{badge:u}),l?s.a.createElement(P.a,{size:"large",color:"invert",className:"rcw-close-launcher","aria-label":i}):s.a.createElement(CoachSmileIcon,{variant:"light","aria-label":a}))}var Xt=Launcher;function WidgetLayout(e){var n=e.onSendMessage,t=e.onToggleConversation,a=e.onToggleFullScreen,i=e.senderPlaceHolder,r=e.profileAvatar,o=e.profileClientAvatar,l=e.showCloseButton,u=e.showFullScreenButton,m=e.autofocus,p=e.customLauncher,g=e.onTextInputChange,h=e.chatId,f=e.launcherOpenLabel,b=e.launcherCloseLabel,v=e.launcherCloseImg,w=e.launcherOpenImg,k=e.sendButtonAlt,x=e.showTimeStamp,S=e.showBadge,C=e.handleNewSession,O=e.humanReadableItemType,y=Object(d.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),j=y.dissableInput,I=y.showChat,N=y.isFullScreen,E=Object(c.useRef)(null);return Object(c.useEffect)((function(){return I&&(E.current=document.getElementById("messages")),function(){E.current=null}}),[I]),s.a.createElement("div",{className:M()("rcw-widget-container",{"rcw-close-widget-container ":!I})},I&&s.a.createElement(Jt,{sendMessage:n,senderPlaceHolder:i,profileAvatar:r,profileClientAvatar:o,toggleChat:t,showCloseButton:l,showFullScreenButton:u,isFullScreen:N,disabledInput:j,autofocus:m,className:I?"active":"hidden",onTextInputChange:g,sendButtonAlt:k,showTimeStamp:x,toggleFullScreen:a,handleNewSession:C,humanReadableItemType:O}),p?p(t):s.a.createElement(Xt,{toggle:t,chatId:h,openLabel:f,closeLabel:b,closeImg:v,openImg:w,showBadge:S}))}var $t=WidgetLayout;function Widget(e){var n=e.handleNewSession,t=e.senderPlaceHolder,a=e.profileAvatar,i=e.profileClientAvatar,r=e.showCloseButton,o=e.showFullScreenButton,c=e.autofocus,l=e.customLauncher,u=e.handleNewUserMessage,m=e.handleTextInputChange,p=e.chatId,g=e.handleToggle,h=e.handleFullScreenToggle,f=e.launcherOpenLabel,b=e.launcherCloseLabel,v=e.launcherCloseImg,w=e.launcherOpenImg,k=e.sendButtonAlt,x=e.showTimeStamp,S=e.handleSubmit,C=e.showBadge,O=e.humanReadableItemType,y=Object(d.b)(),j=Object(d.c)((function(e){return{showChat:e.behavior.showChat,isFullScreen:e.behavior.isFullScreen,dissableInput:e.behavior.disabledInput}})),I=j.showChat,N=j.isFullScreen,E=function toggleConversation(){y(actions_toggleChat()),g&&g(I)},A=function toggleFullScreen(){y(actions_toggleFullScreen()),h&&h(N)},F=function handleMessageRecieved(e){if(!e.trim())return;y(addResponseMessage(e))},T=function handleMessageSubmit(e){if(!e.trim())return;null==S||S(e),y(addUserMessage(e)),u(e)};return s.a.createElement($t,{onToggleConversation:E,onToggleFullScreen:A,onSendMessage:T,senderPlaceHolder:t,profileAvatar:a,profileClientAvatar:i,showCloseButton:r,showFullScreenButton:o,handleNewSession:n,autofocus:c,customLauncher:l,onTextInputChange:m,chatId:p,launcherOpenLabel:f,launcherCloseLabel:b,launcherCloseImg:v,launcherOpenImg:w,sendButtonAlt:k,showTimeStamp:x,showBadge:C,humanReadableItemType:O})}var Zt=Widget;function ConnectedWidget(e){var n=e.senderPlaceHolder,t=e.showFullScreenButton,a=e.autofocus,i=e.profileAvatar,r=e.profileClientAvatar,o=e.launcher,c=e.handleNewUserMessage,l=e.handleTextInputChange,d=e.chatId,u=e.handleToggle,m=e.launcherOpenLabel,p=e.launcherCloseLabel,g=e.launcherCloseImg,h=e.launcherOpenImg,f=e.sendButtonAlt,b=e.showTimeStamp,v=e.handleSubmit,w=e.showBadge,k=e.showCloseButton,x=e.handleNewSession,S=e.humanReadableItemType;return(s.a.createElement(Zt,{handleNewUserMessage:c,senderPlaceHolder:n,profileAvatar:i,profileClientAvatar:r,showCloseButton:k,showFullScreenButton:t,autofocus:a,customLauncher:o,handleTextInputChange:l,chatId:d,handleToggle:u,launcherOpenLabel:m,launcherCloseLabel:p,launcherCloseImg:g,launcherOpenImg:h,sendButtonAlt:f,showTimeStamp:b,handleSubmit:v,showBadge:w,handleNewSession:x,humanReadableItemType:S}))}var ea={senderPlaceHolder:"Type a message...",showCloseButton:!0,showFullScreenButton:!0,autofocus:!0,chatId:"rcw-chat-container",launcherOpenLabel:"Open chat",launcherCloseLabel:"Close chat",launcherOpenImg:"",launcherCloseImg:"",sendButtonAlt:"Send",showTimeStamp:!0,zoomStep:80,showBadge:!0};ConnectedWidget.defaultProps=ea;var na=ConnectedWidget,ta,aa=Object(o.c)(ta||(ta=r()(["\n  .rcw-message {\n    margin: 10px;\n    display: flex;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n    position: relative;\n  }\n  .rcw-timestamp {\n    font-size: 10px;\n    margin-top: 5px;\n  }\n  .rcw-client {\n    display: flex;\n    flex-direction: column;\n    margin-left: auto;\n  }\n\n  .rcw-response {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n  }\n\n  .rcw-message-text p {\n    margin: 0;\n  }\n  .rcw-message-text img {\n    width: 100%;\n    -o-object-fit: contain;\n    object-fit: contain;\n  }\n  .rcw-avatar {\n    width: 40px;\n    height: 40px;\n    border-radius: 100%;\n    margin-right: 10px;\n  }\n  .rcw-avatar-client {\n    margin: 0 0 0 10px;\n  }\n  .rcw-snippet {\n    border-radius: 10px;\n    max-width: 215px;\n    padding: 15px;\n    text-align: left;\n  }\n  .rcw-snippet-title {\n    margin: 0;\n  }\n  .rcw-snippet-details {\n    border-left: 2px solid #35e65d;\n    margin-top: 5px;\n    padding-left: 10px;\n  }\n  .rcw-link {\n    font-size: 12px;\n  }\n  .quick-button {\n    background: none;\n    border-radius: 15px;\n    border: 2px solid #35cce6;\n    font-weight: 700;\n    padding: 5px 10px;\n    cursor: pointer;\n    outline: 0;\n  }\n  .quick-button:active {\n    background: #35cce6;\n    color: #fff;\n  }\n  .loader {\n    margin: 10px;\n    display: none;\n  }\n  .loader.active {\n    display: flex;\n  }\n\n  .rcw-messages-container {\n    height: 50vh;\n    max-height: 410px;\n    overflow-y: scroll;\n    -webkit-overflow-scrolling: touch;\n  }\n  .rcw-full-screen .rcw-messages-container {\n    height: 100%;\n    max-height: none;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-messages-container {\n      height: 100%;\n      max-height: none;\n    }\n  }\n  .rcw-sender {\n    align-items: flex-end;\n    background-color: #f4f7f9;\n    display: flex;\n    overflow: hidden;\n    padding: 10px;\n    position: relative;\n  }\n  .rcw-sender.expand {\n    height: 120px;\n  }\n  .rcw-new-message {\n    border: 0;\n    border-radius: 5px;\n    width: calc(100% - 75px);\n  }\n\n  .rcw-picker-btn,\n  .rcw-send {\n    background: #f4f7f9;\n    border: 0;\n    cursor: pointer;\n  }\n  .rcw-picker-btn .rcw-send-icon,\n  .rcw-send .rcw-send-icon {\n    height: 25px;\n  }\n  .rcw-message-disable {\n    background-color: #f4f7f9;\n    cursor: not-allowed;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-sender {\n      border-radius: 0;\n      flex-shrink: 0;\n    }\n  }\n  .quick-buttons-container {\n    background: #fff;\n    overflow-x: auto;\n    white-space: nowrap;\n    padding: 10px;\n  }\n  .quick-buttons-container .quick-buttons {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n    text-align: center;\n  }\n  .quick-buttons-container .quick-buttons .quick-list-button {\n    display: inline-block;\n    margin-right: 10px;\n  }\n  @media screen and (max-width: 800px) {\n    .quick-buttons-container {\n      padding-bottom: 15px;\n    }\n  }\n  .rcw-conversation-container {\n    border-radius: 10px;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    min-width: 320px;\n    max-width: 90vw;\n    position: relative;\n    background-color: #ffffff;\n  }\n  .rcw-conversation-container.active {\n    opacity: 1;\n    transform: translateY(0);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n  .rcw-conversation-container.hidden {\n    z-index: -1;\n    pointer-events: none;\n    opacity: 0;\n    transform: translateY(10px);\n    transition: opacity 0.3s ease, transform 0.3s ease;\n  }\n  .rcw-conversation-resizer {\n    cursor: col-resize;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 5px;\n  }\n  .emoji-mart-preview {\n    display: none;\n  }\n  .rcw-full-screen .rcw-conversation-container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-conversation-container {\n      display: flex;\n      flex-direction: column;\n      height: 100%;\n    }\n  }\n  .rcw-launcher .rcw-badge {\n    position: fixed;\n    top: -10px;\n    right: -5px;\n    background-color: red;\n    color: #fff;\n    width: 25px;\n    height: 25px;\n    text-align: center;\n    line-height: 25px;\n    border-radius: 50%;\n  }\n  .rcw-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: slide-in;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: slide-in;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: slide-in;\n    animation-fill-mode: forwards;\n    align-self: flex-end;\n    border: 0;\n    border-radius: 50%;\n    box-shadow: 0 2px 10px 1px #b5b5b5;\n    height: 60px;\n    margin-top: 10px;\n    cursor: pointer;\n    width: 60px;\n  }\n  .rcw-launcher:focus {\n    outline: none;\n  }\n  .rcw-open-launcher {\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-rl;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-rl;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-rl;\n    animation-fill-mode: forwards;\n  }\n  .rcw-close-launcher {\n    width: 20px;\n    -webkit-animation-delay: 0;\n    -webkit-animation-duration: 0.5s;\n    -webkit-animation-name: rotation-lr;\n    -webkit-animation-fill-mode: forwards;\n    -moz-animation-delay: 0;\n    -moz-animation-duration: 0.5s;\n    -moz-animation-name: rotation-lr;\n    -moz-animation-fill-mode: forwards;\n    animation-delay: 0;\n    animation-duration: 0.5s;\n    animation-name: rotation-lr;\n    animation-fill-mode: forwards;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-launcher {\n      bottom: 0;\n      margin: 20px;\n      position: fixed;\n      right: 0;\n    }\n    .rcw-hide-sm {\n      display: none;\n    }\n  }\n  .rcw-previewer-container {\n    width: 100vw;\n    height: 100vh;\n    background: rgba(0, 0, 0, 0.75);\n    overflow: hidden;\n    position: fixed;\n    z-index: 9999;\n    left: 0;\n    top: 0;\n  }\n  .rcw-previewer-container .rcw-previewer-image {\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    margin: auto;\n    transition: all 0.3s ease;\n  }\n  .rcw-previewer-container .rcw-previewer-tools {\n    position: fixed;\n    right: 16px;\n    bottom: 16px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n  }\n  .rcw-previewer-container .rcw-previewer-button {\n    padding: 0;\n    margin: 16px;\n    box-shadow: 0 3px 8px 0 rgba(0, 0, 0, 0.3);\n    border-radius: 50%;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    outline: none;\n    background-color: #fff;\n    border: none;\n  }\n  .rcw-previewer-container .rcw-previewer-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n  }\n  .rcw-previewer-container .rcw-previewer-veil {\n    width: 100%;\n    height: 100%;\n    overflow: scroll;\n    position: relative;\n  }\n  @-webkit-keyframes rotation-lr {\n    0% {\n      transform: rotate(-90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @keyframes rotation-lr {\n    0% {\n      transform: rotate(-90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @-webkit-keyframes rotation-rl {\n    0% {\n      transform: rotate(90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @keyframes rotation-rl {\n    0% {\n      transform: rotate(90deg);\n    }\n    to {\n      transform: rotate(0);\n    }\n  }\n  @-webkit-keyframes slide-in {\n    0% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  @keyframes slide-in {\n    0% {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n    to {\n      opacity: 1;\n      transform: translateY(0);\n    }\n  }\n  @-webkit-keyframes slide-out {\n    0% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n    to {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n  }\n  @keyframes slide-out {\n    0% {\n      opacity: 1;\n      transform: translateY(0);\n    }\n    to {\n      opacity: 0;\n      transform: translateY(10px);\n    }\n  }\n  .rcw-widget-container {\n    bottom: 0;\n    display: flex;\n    flex-direction: column;\n    margin: 0 20px 20px 0;\n    position: fixed;\n    right: 0;\n    z-index: 9999;\n  }\n  .rcw-full-screen {\n    height: 100vh;\n    margin: 0;\n    max-width: none;\n    width: 100%;\n  }\n  @media screen and (max-width: 800px) {\n    .rcw-widget-container {\n      height: 100%;\n      height: 100vh;\n      margin: 0;\n      max-width: none;\n      width: 100%;\n    }\n  }\n  .rcw-previewer .rcw-message-img {\n    cursor: pointer;\n  }\n  .rcw-close-widget-container {\n    height: -webkit-max-content;\n    height: -moz-max-content;\n    height: max-content;\n    width: -webkit-max-content;\n    width: -moz-max-content;\n    width: max-content;\n  }\n  .rcw-feedback-icon {\n    cursor: pointer;\n  }\n  .rcw-feedback-container {\n    display: flex;\n    gap: 16px;\n    margin-left: auto;\n    margin-right: 0;\n    padding-top: 4px;\n  }\n"]))),ia=n("b+Bk"),ra=n.n(ia),oa=n("vDB9"),ca=n("DU3t"),sa=n("xeAZ"),la=n.n(sa);function ChatHistoryLoader(e){var n=e.loading,t=e.error,a=e.data,i=e.children;if(n)return i;if(t){var r,o=t;if((null==o?void 0:null===(r=o.graphQLErrors)||void 0===r?void 0:r.length)>0){var c=o.graphQLErrors[0];u.captureMessage(JSON.stringify(c))}return i}if(null!=a&&a.AiCoach.queryByChatSessionId){var s=a.AiCoach.queryByChatSessionId.elements;s.length>0&&dispatcher_dropMessages();for(var l=s.length-1;l>=0;l-=1){var d=s[l];d&&(d.senderType===ca.a.User?dispatcher_addUserMessage(d.message,d.id):d.senderType===ca.a.System&&dispatcher_addResponseMessage(d.message,d.id,d.clipRecommendations||void 0))}markAllAsRead()}return i}function ChatConversationHistoryProvider(e){var n=e.historyLimit,t=e.chatSessionId,a=e.children;if(!t)return a;return(s.a.createElement(l.d,{query:la.a,variables:{chatSessionId:t,limit:n},fetchPolicy:"cache-and-network",context:{clientName:"gatewayGql"}},(function(e){var n=e.loading,t=e.error,i=e.data;return(s.a.createElement(ChatHistoryLoader,{loading:n,error:t,data:i},a))})))}ChatConversationHistoryProvider.displayName="ChatConversationHistory";var da=ChatConversationHistoryProvider,ua,ma;n.d(e,"overrideStyles",(function(){return pa})),n.d(e,"ChatWidget",(function(){return ga})),n.d(e,"HumanReadableItemType",(function(){return De}));var pa=function overrideStyles(e){var n;return Object(o.c)(ua||(ua=r()(["\n    .rcw-full-screen .rcw-close-button,\n    .rcw-conversation-container .rcw-header,\n    .rcw-conversation-container .rcw-close-button,\n    .rcw-launcher {\n      background-color: ",";\n    }\n    .rcw-conversation-container {\n      width: 540px;\n      z-index: 10;\n    }\n    .rcw-message {\n      margin: ",";\n      padding: ",";\n      display: flex;\n      gap: ",";\n    }\n    .rcw-message.rcw-message-client {\n      background-color: ",";\n      flex-direction: row;\n    }\n    .rcw-message.rcw-message-client .rcw-client {\n      display: block;\n      margin-left: ",";\n    }\n    .rcw-message .rcw-response {\n      display: block;\n    }\n    .rcw-client.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n    .rcw-response.rcw-message-text {\n      max-width: none;\n      padding: ",";\n    }\n    .rcw-message-text p {\n      ","\n      color: ",";\n    }\n    .rcw-avatar {\n      margin-right: ",";\n    }\n    .rcw-avatar-client {\n      margin-left: ",";\n      flex-shrink: 0;\n    }\n    .rcw-header {\n      color: ",";\n    }\n    .rcw-picker-btn {\n      display: none;\n    }\n    .rcw-new-message {\n      width: 100%;\n    }\n    .rcw-input {\n      height: 60px;\n    }\n  "])),e.palette.blue[600],e.spacing(0),e.spacing(12,24,12),e.spacing(24),e.palette.gray[100],e.spacing(0),e.spacing(0),e.spacing(0),e.typography.body1,e.palette.black[500],e.spacing(0),e.spacing(0),e.palette.white)};function handleSubmitMessageCompleted(e,n){dispatcher_toggleMsgLoader();var t=e.AiCoach_CreateUserMessageAndReturnResponse,a=t.chatSessionId,i=t.messageByAiCoach,r=t.clipRecommendations;a&&oa.a.setItem(Pe,a,(function(e){return e})),i&&(n(a),dispatcher_addResponseMessage(i.message,i.messageId,r))}function handleError(e){if(dispatcher_toggleMsgLoader(),dispatcher_addResponseMessage(Be()),e.graphQLErrors&&e.graphQLErrors.length>0){var n=e.graphQLErrors[0];u.captureMessage(JSON.stringify(n))}}var ga=function ChatWidget(e){var n=e.itemId,t=e.courseId,i=e.humanReadableItemType,r=Object(g.a)(),u=Object(m.b)();Object(c.useEffect)((function(){u({trackingData:{timestamp:Date.now()},trackingName:"ai-course-coach-widget",action:"visible"})}),[]);var h=oa.a.getItem(Pe,(function(e){return e}),""),f=h&&"undefined"!==h?h:void 0,b=s.a.useState(f),v=a()(b,2),w=v[0],k=v[1];function handleNewSession(){oa.a.removeItem(Pe),k(void 0),dispatcher_dropMessages()}return Object(o.d)("div",{css:[aa,pa(r)]},Object(o.d)(d.a,{store:Hn},Object(o.d)(da,{historyLimit:5,chatSessionId:w},Object(o.d)(l.c,{mutation:ra.a,onCompleted:function onCompleted(e){return handleSubmitMessageCompleted(e,k)},onError:handleError,context:{clientName:"gatewayGql"}},(function(e){return Object(o.d)("div",null,Object(o.d)(na,{showTimeStamp:!0,showCloseButton:!0,profileAvatar:ma||(ma=Object(o.d)(CoachSmileIcon,{variant:"dark"})),profileClientAvatar:p.a.get().photo_120,handleNewSession:handleNewSession,handleNewUserMessage:function handleNewUserMessage(a){var i,r;e({variables:{input:{userId:String(null===p.a||void 0===p.a?void 0:null===(i=p.a.get)||void 0===i?void 0:null===(r=i.call(p.a))||void 0===r?void 0:r.id),message:a,courseId:t,itemId:n,chatSessionId:w}}}),setTimeout((function(){dispatcher_toggleMsgLoader()}),300)},autofocus:!1,senderPlaceHolder:"",showFullScreenButton:!0,humanReadableItemType:i}))})))))},ha=m.a.withVisibilityTracking(ga);ga.displayName="ChatWidget";var fa=e.default=ha},Xb1k:function(module,exports,e){},"b+Bk":function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponseInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach_CreateUserMessageAndReturnResponse"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"messageByAiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messageId"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"chatSessionId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]}]}}]}}]}}],loc:{start:0,end:519}};e.loc.source={body:"mutation AiCoach_CreateUserMessageAndReturnResponse($input: AiCoach_CreateUserMessageAndReturnResponseInput!) {\n  AiCoach_CreateUserMessageAndReturnResponse(input: $input) {\n    messageByAiCoach {\n      message\n      senderType\n      messageId\n    }\n    chatSessionId\n    clipRecommendations {\n      course {\n        id\n        slug\n        name\n      }\n      partners {\n        abbreviatedName\n        name\n        logo\n      }\n      itemTitle\n      itemSlug\n      itemId\n      previewImage\n      duration\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)}))}function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var t={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function oneQuery(e,n){var a={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=t[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){var n;r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),t[e.name.value]=n}}))}(),module.exports=e,module.exports.AiCoach_CreateUserMessageAndReturnResponse=oneQuery(e,"AiCoach_CreateUserMessageAndReturnResponse")},j0VE:function(module,e,n){"use strict";var t=n("VbXa"),a=n.n(t),i=n("q1tI"),r=n.n(i),o=n("MnCE"),c=n("ZJgU"),s=n("KXbA"),l=n("G2Rf"),d=n("PamN"),u=n("9A5E"),m=n("NzvK"),p=n.n(m),g,h=function(e){function LabSandboxLauncherButton(){for(var n,t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(n=e.call.apply(e,[this].concat(a))||this).handleClick=function(){var e=n.props.courseSlug,t=Object(d.c)(e);window.open(t,"_blank")},n}var n;return a()(LabSandboxLauncherButton,e),LabSandboxLauncherButton.prototype.render=function render(){var e=this.props,n=e.courseId,t=e.courseBranchId,a=e.itemId,i=e.ownsCourse,o=e.isFreeTrial;if(!Object(d.b)(n,t,a,i,o))return null;return(r.a.createElement("div",{className:"rc-LabSandboxLauncherButton"},r.a.createElement(c.a,{variant:"ghost",component:u.a,iconPosition:"before",trackingName:"lab_sandbox",href:"/learn/".concat(this.props.courseSlug,"/lab-sandbox"),target:"_blank",icon:g||(g=r.a.createElement(s.a,{size:"small"})),"aria-label":p()("open lab sandbox")},p()("Practice with Lab Sandbox"))))},LabSandboxLauncherButton}(i.Component);e.a=Object(o.b)(l.a)(h)},kDtP:function(module,e,n){"use strict";var t=n("VbXa"),a=n.n(t),i=n("q1tI"),r=n.n(i),o=n("37kS"),c=n.n(o),s=n("8PY9"),l=n.n(s),d=function(e){function LoadingIndicator(){return e.apply(this,arguments)||this}var n;return a()(LoadingIndicator,e),LoadingIndicator.prototype.render=function render(){return r.a.createElement("div",{className:"rc-LoadingIndicator"},c()("Loading"))},LoadingIndicator}(r.a.Component);e.a=d},xeAZ:function(module,exports){var e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AiCoach_ChatMessagesPaginatedResult"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"limit"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"AiCoach"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"queryByChatSessionId"},arguments:[{kind:"Argument",name:{kind:"Name",value:"chatSessionId"},value:{kind:"Variable",name:{kind:"Name",value:"chatSessionId"}}},{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"Variable",name:{kind:"Name",value:"limit"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pagination"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalElements"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"elements"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userFeedback"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userComments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"senderType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"courseId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"clipRecommendations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"partners"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"abbreviatedName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"logo"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemId"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemSlug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"itemTitle"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImage"},arguments:[],directives:[]}]}}]}}]}}]}}]}}],loc:{start:0,end:714}};e.loc.source={body:"query AiCoach_ChatMessagesPaginatedResult($chatSessionId: ID!, $limit: Int!) {\n  AiCoach {\n    queryByChatSessionId(chatSessionId: $chatSessionId, limit: $limit) {\n      pagination {\n        totalElements\n        cursor\n      }\n      elements {\n        userFeedback\n        userComments\n        senderType\n        message\n        itemId\n        createdAt\n        courseId\n        id\n        clipRecommendations {\n          course {\n            id\n            slug\n            name\n          }\n          partners {\n           abbreviatedName\n           name\n           logo\n          }\n          duration\n          itemId\n          itemSlug\n          itemTitle \n          previewImage\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var n={};function unique(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!n[t]&&(n[t]=!0,!0)}))}function collectFragmentReferences(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){collectFragmentReferences(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){collectFragmentReferences(e,n)})),e.definitions&&e.definitions.forEach((function(e){collectFragmentReferences(e,n)}))}var t={};function findOperation(e,n){for(var t=0;t<e.definitions.length;t++){var a=e.definitions[t];if(a.name&&a.name.value==n)return a}}function oneQuery(e,n){var a={kind:e.kind,definitions:[findOperation(e,n)]};e.hasOwnProperty("loc")&&(a.loc=e.loc);var i=t[n]||new Set,r=new Set,o=new Set;for(i.forEach((function(e){o.add(e)}));o.size>0;){var c=o;o=new Set,c.forEach((function(e){var n;r.has(e)||(r.add(e),(t[e]||new Set).forEach((function(e){o.add(e)})))}))}return r.forEach((function(n){var t=findOperation(e,n);t&&a.definitions.push(t)})),a}!function extractReferences(){e.definitions.forEach((function(e){if(e.name){var n=new Set;collectFragmentReferences(e,n),t[e.name.value]=n}}))}(),module.exports=e,module.exports.AiCoach_ChatMessagesPaginatedResult=oneQuery(e,"AiCoach_ChatMessagesPaginatedResult")}}]);
//# sourceMappingURL=en.72.e81fbba4a9fe1115a05c.js.map